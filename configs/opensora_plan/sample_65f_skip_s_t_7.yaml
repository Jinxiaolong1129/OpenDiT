model_path: LanguageBind/Open-Sora-Plan-v1.1.0
version: 65x512x512
num_frames: 65
height: 512
width: 512
cache_dir: "./cache_dir"
text_encoder_name: DeepFloyd/t5-v1_1-xxl
text_prompt: [
  "A vibrant underwater scene. A group of blue fish, with yellow fins, are swimming around a coral reef. The coral reef is a mix of brown and green, providing a natural habitat for the fish. The water is a deep blue, indicating a depth of around 30 feet. The fish are swimming in a circular pattern around the coral reef, indicating a sense of motion and activity. The overall scene is a beautiful representation of marine life.",
  "Time Lapse of the rising sun over a tree in an open rural landscape, with clouds in the blue sky beautifully playing with the rays of light",
  "The vibrant beauty of a sunflower field. The sunflowers, with their bright yellow petals and dark brown centers, are in full bloom, creating a stunning contrast against the green leaves and stems. The sunflowers are arranged in neat rows, creating a sense of order and symmetry. The sun is shining brightly, casting a warm glow on the flowers and highlighting their intricate details. The video is shot from a low angle, looking up at the sunflowers, which adds a sense of grandeur and awe to the scene. The sunflowers are the main focus of the video, with no other objects or people present. The video is a celebration of nature's beauty and the simple joy of a sunny day in the countryside.",
  "Snow falling over multiple houses and trees on winter landscape against night sky. christmas festivity and celebration concept.",
  "A bustling city street at night, filled with the glow of car headlights and the ambient light of streetlights. The scene is a blur of motion, with cars speeding by and pedestrians navigating the crosswalks. The cityscape is a mix of towering buildings and illuminated signs, creating a vibrant and dynamic atmosphere. The perspective of the video is from a high angle, providing a bird's eye view of the street and its surroundings. The overall style of the video is dynamic and energetic, capturing the essence of urban life at night.",
  "A snowy forest landscape with a dirt road running through it. The road is flanked by trees covered in snow, and the ground is also covered in snow. The sun is shining, creating a bright and serene atmosphere. The road appears to be empty, and there are no people or animals visible in the video. The style of the video is a natural landscape shot, with a focus on the beauty of the snowy forest and the peacefulness of the road.",
  "A serene night scene in a forested area. The first frame shows a tranquil lake reflecting the star-filled sky above. The second frame reveals a beautiful sunset, casting a warm glow over the landscape. The third frame showcases the night sky, filled with stars and a vibrant Milky Way galaxy. The video is a time-lapse, capturing the transition from day to night, with the lake and forest serving as a constant backdrop. The style of the video is naturalistic, emphasizing the beauty of the night sky and the peacefulness of the forest.",
]
ae: CausalVAEModel_4x8x8
save_img_path: "./samples/opensora_plan"
fps: 24
guidance_scale: 7.5
num_sampling_steps: 150
enable_tiling: True

# skip
spatial_skip: True
spatial_threshold: [100, 800]
spatial_gap: 2
spatial_block: [0, 28]
temporal_skip: True
temporal_threshold: [100, 800]
temporal_gap: 4
cross_skip: True
cross_threshold: [100, 850]
cross_gap: 6

# skip diffusion
diffusion_skip: False
diffusion_skip_timestep: [3,3,3,0,0,0,0,0,0,0]
# open-sora plan 150 steps, so we can skip more



# mlp
mlp_skip: True

mlp_spatial_skip_config: {
738: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
714: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
690: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
666: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
642: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
618: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
594: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
570: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
546: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
522: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
498: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
474: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
450: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
426: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
402: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
378: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
354: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
330: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
282: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
258: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
234: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
}



mlp_temporal_skip_config: {
738: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
714: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
690: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
666: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
642: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
618: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
594: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
570: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
546: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
522: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
498: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
474: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
450: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
426: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
402: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
378: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
354: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
330: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
282: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
258: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
234: {'block': [0, 1, 2, 3, 4, 5, 6, 7], 'skip_count': 2},
}



# Time step tensor([894, 891, 891, 888, 888, 885, 885, 882, 882, 879, 879, 876, 876, 870,
#         864, 858, 852, 846, 840, 834, 828, 822, 816, 810, 804, 798, 792, 786,
#         780, 774, 768, 762, 756, 750, 744, 738, 732, 726, 720, 714, 708, 702,
#         696, 690, 684, 678, 672, 666, 660, 654, 648, 642, 636, 630, 624, 618,
#         612, 606, 600, 594, 588, 582, 576, 570, 564, 558, 552, 546, 540, 534,
#         528, 522, 516, 510, 504, 498, 492, 486, 480, 474, 468, 462, 456, 450,
#         444, 438, 432, 426, 420, 414, 408, 402, 396, 390, 384, 378, 372, 366,
#         360, 354, 348, 342, 336, 330, 324, 318, 312, 306, 300, 294, 288, 282,
#         276, 270, 264, 258, 252, 246, 240, 234, 228, 222, 216, 210, 204, 198,
#         192, 186, 180, 174, 168, 162, 156, 150, 144, 138, 132, 126, 120, 114,
#         108, 102,  96,  90,  84,  78,  72,  66,  60,  54,  48,  42,  36,  30,
#          24,  18,  12,   6,   0], device='cuda:0')
